
<!DOCTYPE html>
<html>
<head>
  <title>School ERP</title>
</head>
<body>

<h2>School ERP Dashboard</h2>

<button onclick="loadStudents()">Load Students</button>

<pre id="output"></pre>

<script type="module">
import { db } from "./firebase.js";
import { collection, getDocs } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore.js";

async function loadStudents() {
  const output = document.getElementById("output");
  output.innerText = "Loading...";

  const querySnapshot = await getDocs(
    collection(db, "schools", "school1", "students")
  );

  let data = "";
  querySnapshot.forEach((doc) => {
    data += JSON.stringify(doc.data()) + "\n";
  });

  output.innerText = data || "No students found";
}

window.loadStudents = loadStudents;
</script>

</body>
</html>
